# Citation & Provenance Standard

## Goal
To ensure every answer generated by the platform can be traced back to a specific source document and location with precision.

## Data Model

### Chunk Provenance
Every chunk stored in the vector database MUST include a `provenance` JSON object:

```json
{
  "provenance": {
    "page": 5,              // Optional: Page number (for PDF)
    "section": "3.1.2",     // Optional: Section header
    "offsets": {            // Mandatory for text
      "start": 1024,
      "end": 1500
    },
    "original_blob_uri": "s3://..." // Optional: link to source file
  }
}
```

## Search Response Citation
The search API response for every hit MUST include a structured citation:

```json
{
  "citation": {
    "document_id": "uuid",
    "chunk_id": "uuid",
    "location": "Page 5, Section 3.1.2", // Human readable
    "snippet": "First 50 chars..."
  }
}
```

## Helper Implementation
A shared helper `cite(chunk)` should transform a retrieved chunk into this citation format.
